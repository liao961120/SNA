<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="廖昱甄、吳 霏、楊博儒、廖永賦" />

<meta name="date" content="2019-06-06" />

<title>社會網絡分析專題</title>
<!-- Material Design fonts -->
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<script src="index_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="index_files/bootstrap-3.3.6/css/bootstrap.min.css" rel="stylesheet" />
<script src="index_files/bootstrap-3.3.6/js/bootstrap.min.js"></script>
<script src="index_files/jqueryui-1.11.4/jquery-ui.min.js"></script>
<script src="index_files/navigation-1.1/tabsets.js"></script>
<script src="index_files/navigation-1.1/codefolding.js"></script>
<link href="index_files/magnific-popup-1.1.0/magnific-popup.css" rel="stylesheet" />
<script src="index_files/magnific-popup-1.1.0/jquery.magnific-popup.min.js"></script>
<link href="index_files/bootstrap_material-0.1/bootstrap-material-design.min.css" rel="stylesheet" />
<link href="index_files/bootstrap_material-0.1/ripples.min.css" rel="stylesheet" />
<script src="index_files/bootstrap_material-0.1/material.min.js"></script>
<script src="index_files/bootstrap_material-0.1/ripples.min.js"></script>
<link href="index_files/material-0.1/material.css" rel="stylesheet" />
<script src="index_files/material-0.1/material.js"></script>




<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->

</head>

<body>

<div class="header-panel shadow z-2">
    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-3">
        <div id="header">
    <h1 class="title">社會網絡分析專題</h1>
        <h1 class="subtitle">作業三</h1>
                <h4 class="author">廖昱甄、吳 霏、楊博儒、廖永賦</h4>
                <h4 class="date">2019-06-06</h4>
        </div>
    </div>
</div>
</div>
</div>


<div class="container-fluid main-container">
    <div class="row">
      <nav class="col-xs-3 menu">
        <div id="toc">
        <ul>
        <li><a href="#community-detection-with-ucinet">1. Community-detection with UCINET</a></li>
        <li><a href="#community-detection-with-gephi">2. Community-detection with Gephi</a></li>
        <li><a href="#filtering-and-modularity-analysis">3. Filtering and modularity analysis</a></li>
        <li><a href="#structural-equivalence-and-position-analysis">4. Structural Equivalence and Position Analysis</a></li>
        </ul>
        </div>
        
        
        
      </nav>
     <div class="pages col-xs-9">
     <div class="row">
       <div class="col-xs-10">



<p><span style="float:right;margin-top:-1em;">點擊圖片可放大檢視</span></p>
<div id="community-detection-with-ucinet" class="section level1">
<h1>1. Community-detection with UCINET</h1>
<p>將資料使用Maximum的方式對稱後進行以下分析：</p>
<div id="louvain-method-with-raw-data" class="section level2">
<h2>1.1 Louvain method with raw-data</h2>
<ul>
<li><p>Partition with 10 clusters: Q = 0.115</p></li>
<li><p>Partition with 17 clusters: Q = 0.109</p></li>
</ul>
<p>使用Louvain method可將資料劃分為兩種情形，分別為10與17個子群體，其Q值分別為0.115與0.109。下圖僅呈現Q值高者，即10群之情形。</p>
<blockquote>
<div class="figure">
<img src="media/image2.png" alt="Figure 1.1 Louvain method的分群結果(10 clusters)" />
<p class="caption">Figure 1.1 Louvain method的分群結果(10 clusters)</p>
</div>
</blockquote>
<p>　　觀察上圖，可發現除去Eat、別鬧了等五個與其他書籍未具有任何相似關係的節點後，其餘書籍皆被劃分至五群之中。其中，右下角之淺藍色子群體大多集結了英文書籍。</p>
</div>
<div id="analysis-with-dichotomized-data" class="section level2">
<h2>1.2 Analysis with dichotomized data</h2>
<div id="determine-the-proper-threshold" class="section level3">
<h3>1.2.1 Determine the proper threshold</h3>
<div class="figure">
<img src="media/image1.jpg" alt="Figure 1.2 不同similarity thresholds之連結數變化情形" />
<p class="caption">Figure 1.2 不同similarity thresholds之連結數變化情形</p>
</div>
<p><strong>　　</strong>根據上圖，可發現similarity threshold在0.3後變化趨緩。然而，在similarity threshold設為0.3的情況下，17404的連結數對於Louvain method仍是有些吃重的，Girvan-Newman method的結果上亦不盡理想，共分作103個子群體，且其Q值僅有0.332。因此，以下將similarity threshold訂定為0.4進行分析：</p>
</div>
<div id="louvain-method-dichotomized-at-0.4" class="section level3">
<h3>1.2.2 Louvain method (dichotomized at 0.4)</h3>
<ul>
<li><p>Partition with 96 clusters: Q = 0.621</p></li>
<li><p>Partition with 115 clusters: Q = 0.576</p></li>
</ul>
<p>　　使用Louvain method可將資料劃分為兩種情形，分別為96與117個子群體，其Q值分別為0.621與0.576。下圖僅呈現Q值高者，即96群之情形。</p>
<p>　　對照未進行dichotomize的原始資料，可發現其Q值大幅上升，由0.115提升至0.621。</p>
<div class="figure">
<img src="media/image4.png" alt="Figure 1.3 Louvain method的分群結果(96 clusters)" />
<p class="caption">Figure 1.3 Louvain method的分群結果(96 clusters)</p>
</div>
<p>　　觀察上圖，可發現已經能夠識別出部部份子群體之特性，如：右上角的黃色子群體，與右下角的紅色子群體。黃色子群體共包含五個節點，除卻齊邦媛所著之巨流河外，皆為龍應台之作品（巨流河與大江大海一九四九皆書寫大時代下的悲劇，具有高度相似性）；紅色子群體則多為九把刀之著作。</p>
</div>
<div id="girvan-newman-method-dichotomized-at-0.4" class="section level3">
<h3>1.2.3 Girvan-Newman method (dichotomized at 0.4)</h3>
<ul>
<li>Partition with 32 clusters: Q = 0.609</li>
</ul>
<div class="figure">
<img src="media/image3.png" alt="Figure 1.4 Girvan-Newman method的分群結果(32 clusters)" />
<p class="caption">Figure 1.4 Girvan-Newman method的分群結果(32 clusters)</p>
</div>
<p>　　觀察上圖，發現其同樣也能夠識別出部份子群體之特性，如：右上角的深藍色子群體為暮光之城系列作品；左上角紅色的子群體屬同一作品；左邊的藍色子群體為張愛玲之著作；下方粉紅色子群體多為九把刀之作品。</p>
</div>
<div id="discussion" class="section level3">
<h3>1.2.4 Discussion</h3>
<p>　　雖Louvain method與Girvan-Newman method具有相近的Q值，且皆能夠辨識出部份子群體的特性，但我們認為在dichotomized at 0.4的情境下，Girvan-Newman method的分群表現似乎是較好的。</p>
<p>　　在Girvan-Newman method中，其外圍地帶之子群體大多是能夠識別出其關聯性的，且未與其他節點相連結之節點聚集至同一子群體。相較Louvain method將大部份之節點分群至核心的五個子群體內，並將未與其他節點相連結之節點視作獨立群體的方法來得更易解讀。</p>
</div>
</div>
</div>
<div id="community-detection-with-gephi" class="section level1">
<h1>2. Community-detection with Gephi</h1>
<blockquote>
<p>Use the <a href="https://www.space.ntu.edu.tw/navigate/s/4DE84DAC075647E7A97D6C843C2CE78FQQY"><strong><span class="underline">aNobii</span></strong> <span class="underline">bookshelf (cosine similarity)</span></a> <span class="underline"></span> data</p>
<p>Run both Modularity (i.e. Louvain method) and</p>
<p>Girvan-Newman <a href="https://www.space.ntu.edu.tw/navigate/s/06A5759147E1470194D433C69683B84BQQY"><span class="underline">aNobii (dichotomized at 0.7)</span></a></p>
<p>Based on results from Q1 and Q2, discuss with clustering method produces the best result.</p>
<p>在Gephi進行Louvain method與Girvan-Newman method的分群分析時，我們先使用了在UCINET中dichotomize至0.7的資料，然而跑出之modularity/ Q值皆過高（幾近於1），分群結果也十分瑣碎，幾乎皆是以系列作品為分群基礎。<br />
多次嘗試後，我們發現dichotomize至0.4的結果最理想，modularity/ Q值皆落0.6左右，在最佳的Q值範圍0.3至0.7中已達上限，分群結果也能呈現各群之類型風格。</p>
</blockquote>
<div id="modularity-louvain-method-with-gephi" class="section level2">
<h2>2.1 Modularity (Louvain method) with Gephi</h2>
<p>圖2.1為使用dichotomized at 0.7之資料，總共分出78群，modularity值為0.967；圖2.2則為dichotomized at 0.4之資料，共分出21群，modularity值為0.608。<br />
比較兩圖可看出圖2.1的分群多以系列作品呈現，例如：左上方的哈利波特系列，左下方的1Q84系列；圖 2.2更能呈現各群的風格，例如：綠色子群體為人性驚悚類，藍色為意識流類。</p>
<div class="figure">
<img src="media/image5.png" alt="Figure 2.1 Dichotomized at 0.7之modularity 分群結果(78 clusters)" />
<p class="caption">Figure 2.1 Dichotomized at 0.7之modularity 分群結果(78 clusters)</p>
</div>
<div class="figure">
<img src="media/image6.png" alt="Figure 2.2 Dichotomized at 0.4之modularity 分群結果(21 clusters)" />
<p class="caption">Figure 2.2 Dichotomized at 0.4之modularity 分群結果(21 clusters)</p>
</div>
</div>
<div id="girvan-newman-method-with-gephi" class="section level2">
<h2>2.2 Girvan-Newman method with Gephi</h2>
<p>圖2.3為使用dichotomize至0.7之資料，將237個節點分為78群，modularity值為0.96733254；圖2.4為使用dichotomize至0.4之資料，將426個節點分為32群，modularity值為0.6088021。相比之下，圖2.3之分群十分瑣碎，連系列作品都未必會分在同一子群體，也難以判斷出各群具備之特質；而圖2.4則如圖2.2使用Louvain method之結果相似，各群風格顯著，例如：桃紅色子群體為人性驚悚類，綠色為溫暖寫實類。</p>
<div class="figure">
<img src="media/image7.png" alt="Figure 2.3 Dichotomized at 0.7之Girvan-Newman 分群結果(78 clusters)" />
<p class="caption">Figure 2.3 Dichotomized at 0.7之Girvan-Newman 分群結果(78 clusters)</p>
</div>
<div class="figure">
<img src="media/image8.png" alt="Figure 2.4 Dichotomized at 0.4之Girvan-Newman 分群結果(32 clusters)" />
<p class="caption">Figure 2.4 Dichotomized at 0.4之Girvan-Newman 分群結果(32 clusters)</p>
</div>
</div>
<div id="discussion-using-data-dichotomized-at-0.4" class="section level2">
<h2>2.3 Discussion (using data dichotomized at 0.4)</h2>
<table style="width:93%;">
<colgroup>
<col width="15%" />
<col width="15%" />
<col width="23%" />
<col width="15%" />
<col width="23%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">method</th>
<th align="left">Louvain<br />
(UCINET)</th>
<th align="left">Girvan-Newman<br />
(UCINET)</th>
<th align="left">Louvain<br />
(Gephi)</th>
<th align="left">Girvan-Newman<br />
(Gephi)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">clusters</td>
<td align="left">96</td>
<td align="left">32</td>
<td align="left">21</td>
<td align="left">32</td>
</tr>
<tr class="even">
<td align="left">Q index</td>
<td align="left">0.621</td>
<td align="left">0.609</td>
<td align="left">0.608</td>
<td align="left">0.6088021</td>
</tr>
</tbody>
</table>
<p>　在Gephi中，Louvain method與Girvan-Newman method皆產出相近的Q值，不過Girvan-Newman產出的子群體較多。而觀察分群結果後可發現兩者的優劣處十分相像：從零散的小子群體觀察，兩種分群發法都產出內部高度相似的子群體。如在Louvain之中有1Q84系列、九把刀作品集，而在Girvan-Newman中有九把刀作品集、Harry Potter系列。</p>
<p>從較大的子群體評估，兩種分群方法皆產生驚悚推理類、意識流類、或溫情寫實等體型較大之子群體，然而這幾類中都摻雜些許不合乎該風格之書籍。如在Louvain之中的草綠色子群體，多數由驚悚類書籍組成（告白、殺人事件、模仿犯等），然而也包含部分溫情寫實類書籍（父後七日、深夜食堂、台北爸爸，紐約媽媽等）；或是在Girvan-Newman之中的驚悚類書籍也有同樣情況。因此我們認為此兩種分群結果是相似的。</p>
</div>
</div>
<div id="filtering-and-modularity-analysis" class="section level1">
<h1>3. Filtering and modularity analysis</h1>
<div id="section" class="section level2">
<h2>3-1</h2>
<p>台大公衛論文關鍵字的網路圖共有 983 個節點，對這些節點進行分群，可以分成七群，modularity 值為 0.251。這個網路因為過於龐大，其中雜訊過多，導致分群的 modularity 值過小，顯示出網路內部存在一些節點影響到分群的效果，故為了使分群更有意義，要針對網路的節點進行篩選。</p>
<p>節點篩選的過程如下，首先篩選出 giant component，再篩選出 clustering coefficient 大於 0.15 的節點，這個舉動是因為某些 degree 很高 clustering coefficient 卻很低的節點會影響到分群的結果。最後再篩選出 edge weight 大於 3 的節點。之所以會選擇 3 這個數字是因為界線的設定從 2 到 3 仍然可以大幅提高 modularity，然而若再繼續提高界線則對 modularity 沒有明顯影響。</p>
<p>篩選後的結果，留下 599（60.94 %）個節點，modularity 的值進步到 0.572，並且分出了十個群組。結果如下圖，顏色代表分群，節點大小代表 degree 值的大小。</p>
<p><img src="p3_1.svg" /><!-- --></p>
</div>
<div id="section-1" class="section level2">
<h2>3-2</h2>
<p>漫威英雄英雄網路圖中共有 10496 個節點，對這些節點進行分群，可以分成 24 群，modularity 值為 0.491。在這個網路中同樣因為不重要的節點過多，導致分群的 modularity 值過小，為了使得分群的效果更好，針對網路的節點進行篩選。</p>
<p>節點篩選的過程如下，首先篩選出 giant component，再篩選出 clustering coefficient 大於 0.4 的節點，最後再篩選出 degree 大於 5 的節點，同樣 degree 界線的提高對分群的 modularity 沒有明顯影響。</p>
<p>篩選後的結果，留下 4547（43.43 %）個節點，modularity 的值進步到 0.832，並且分出了 41 個群組，雖說 modularity 值有大幅進步，然而整個網路卻分出更多的群組，代表漫威角色之間存在許多明顯的小團體。結果如下圖，顏色代表分群，節點大小代表 degree 值的大小。</p>
<p><img src="p3_2.svg" /><!-- --></p>
</div>
</div>
<div id="structural-equivalence-and-position-analysis" class="section level1">
<h1>4. Structural Equivalence and Position Analysis</h1>
<div id="a-b-similarities-dissimilarities-of-trade-data" class="section level2">
<h2>(a), (b) Similarities &amp; Dissimilarities of Trade Data</h2>
<p>這裡使用 <code>Network &gt; Roles &amp; Positions &gt; Structural &gt; Profile</code> 以取得 similarity matrix。由於在此選項中並無 <code>Jaccard</code> 方法，因此最後使用 <code>correlation</code> 、<code>matches</code> 與 <code>Euclidean distance</code> 作為 similarity (dissimilarity) matrix 的測量單位。</p>
<p>另外，為了盡量讓結果「透明」，雖然 UCINET 可以同時自動處理 Trade data 中具有多個矩陣的情況，這裡仍只使用 Trade 當中的外交 (<code>diplomats</code>) 資料。</p>
<p>使用 <code>Trade-diplomats</code> 產生的 3 個 similarity (dissimilarity) matrix 進行 hierarchical clustering 的結果如下：</p>
<div class="figure">
<img src="4-b/a-trade-diploma-Corr-SE-dendro.bmp" alt="Correlation as similarity measure" />
<p class="caption">Correlation as similarity measure</p>
</div>
<div class="figure">
<img src="4-b/a-trade-diploma-match-SE-dendro.bmp" alt="Matches as similarity measure" />
<p class="caption">Matches as similarity measure</p>
</div>
<div class="figure">
<img src="4-b/a-trade-diploma-euc_dist-SE-dendro.bmp" alt="Euclidean Distance as dissimilarity measure" />
<p class="caption">Euclidean Distance as dissimilarity measure</p>
</div>
</div>
<div id="c-comparison-of-clustering-multidimensional-scaling" class="section level2">
<h2>(c) Comparison of Clustering &amp; Multidimensional Scaling</h2>
<p>使用「臺大論文口試審查委員」的資料進行 Clustering 與 MDS (皆使用 <code>Euclidean distance</code>) 之後，視覺化的結果如下：</p>
<div class="figure">
<img src="4-c/ntu-merged.png" alt="Hierarchical clustering (left) &amp; Multidimensional scaling (right) on NTU thesis committee data" width="1838" />
<p class="caption">
Hierarchical clustering (left) &amp; Multidimensional scaling (right) on NTU thesis committee data
</p>
</div>
<p>從 MDS 的圖可以看出圖片中央似乎有一團密集的區域 (核心)，這個現象與 clustering 的結果相當吻合 — clustering dendrogram 的形狀是呈現三角形，亦即 dendrogram 的下方在很早期就被分成同一群，並且隨著距離的增加 (similarity 遞減)，這一群變得越來越大。換言之，Clustering 和 MDS 都顯示 NTU thesis committee data 似乎只有一個「核心」。</p>
<p>這個現象在與 <code>Trade-diplomats</code> 相比後會比較明顯 — 下方的 dendrogram 很明顯的與上方呈現三角形的 NTU thesis committee data 差異很大，而這也顯示在下方的 MDS 上：<code>Trade-diplomats</code> 每點之間距離較遠，與呈現一個「核心」的 NTU thesis committee data 有相當差異。</p>
<div class="figure">
<img src="4-c/trade-diplomats-merge.png" alt="Hierarchical clustering (left) &amp; Multidimensional scaling (right) on Trade-diplomats" width="1838" />
<p class="caption">
Hierarchical clustering (left) &amp; Multidimensional scaling (right) on Trade-diplomats
</p>
</div>
</div>
</div>

    </div>
    <div class="col-xs-2">
        </div>
  </div>
  </div>
  </div>
  <div class="row">
    </div>
  </div>

<script>
$(document).ready(function () {
  // add bootstrap table styles to pandoc tables
  $('tr.header').parent('thead').parent('table').addClass('table table-striped table-hover');

    var images = $('.pages img');
  images.filter(function() {
      if ($(this).parent().attr("class") == "figure") {
          return(false)
      } else {
          return(true);
      }
  }).wrap("<div class='figure'></div>");
  images.addClass("image-thumb").wrap("<div class='panel-body'></div>");
  $('.figure p.caption').wrap("<div class='panel-footer'></div>");
  $('.figure').addClass('panel panel-default');
  
    $('.pages img')
 	  .addClass("image-lb");
  $('.pages').magnificPopup({
	      type:'image',
	      closeOnContentClick: false,
	      closeBtnInside: false,
        delegate: 'img',
	      gallery: {enabled: false },
          removalDelay: 500,
          callbacks: {
              beforeOpen: function() {
                // just a hack that adds mfp-anim class to markup
                this.st.image.markup = this.st.image.markup.replace('mfp-figure', 'mfp-figure mfp-with-anim');
              }
          },
          mainClass: 'mfp-move-from-top',
	      image: {
	        verticalFit: true,
            titleSrc: 'alt'
	      }
 	    });
 	
    
    $('#toc ul li').first().addClass("active");
    $('#toc ul li').attr("data-target", function() {
        return($(this).children("a").attr("href"));
    })
    $('body .section.level1').first().addClass("active");
    
    $('#toc a[href*="#"]').click(function() {

      var id = $(this).attr("href");
      if (id === "#") return;
      if (id.substring(0, 8) === "#dyntab-") return;
      toggle_page(id);

      // Menu
      var menu_entry = $(".menu li[data-target='"+id+"']");
      menu_entry.addClass("active");
      $(".menu li").not(menu_entry).removeClass("active"); 
      

    });

    function toggle_page(id) {
      $(".page").not(page).removeClass("active").hide();
      window.page = id;
      var page = $(window.page);
      window.location.hash = window.page;
      //$(this).addClass("active");

      page.show();

      var totop = setInterval(function () {
        $(".pages").animate({scrollTop: 0}, 0);
      }, 10);

      setTimeout(function () {
        page.addClass("active");
        setTimeout(function () {
          clearInterval(totop);
        }, 1000);
      }, 100);

      window.dispatchEvent(new Event('resize'));

    }


    $(".menu li").click(function () {

      toggle_page($(this).data("target"));

      // Menu
      if (!$(this).data("target")) return;
      if ($(this).is(".active")) return;
      $(".menu li").not($(this)).removeClass("active");
      $(this).addClass("active");

    });
  
    


    window.page = window.location.hash;
    if (window.page != "") {
      $(".menu").find("li[data-target=" + window.page + "]").trigger("click");
    }

    /* init material bootstrap js */
    $.material.init();
});
</script>




<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
